(function(){"use strict";var e={7599:function(e,t,s){var l=s(9242),a=(s(7658),s(3396)),i=s(4870),r=s(7139),n=s(5939),o=s(2578);class c{constructor(){this.nodes=[]}get size(){return this.nodes.length}get head(){return this.size?this.nodes[0]:null}insertLast(e){this.nodes[this.size]=e}getAt(e){return this.nodes[e]}nextSong(e){return e<this.size-1?this.nodes[e+1]:this.nodes[0]}previousSong(e){return 0==e?(console.log(this.nodes[0]),this.nodes[0]):(console.log(this.nodes[e-1]),this.nodes[e-1])}getIndex(e){return this.nodes.indexOf(e)}clear(){this.nodes=[]}}const u=e=>{const t=new c;return e.map((e=>{t.insertLast(e)})),t},g=(0,o.Q_)("musicStore",{state:()=>({root_uri:"https://musicappserver-1-x3219821.deta.app",userId:!1,loading:!0,musics:!1,pause:!1,userName:!1,isLoggedIn:!1,currentSong:0,currentSongData:!1,musicTrack:!1,musicTiming:0,showRecentlyPlayed:!1,recentlyPlayed:[],newRecentlyPlayed:[],recentlyPlayedList:!1,dllist:!1,likedSongs:!1,likedSongsPlaylist:!1,songUrl:!1,playList:!1,playListCount:!1,newPlayListName:!1,newPlayListId:!1,newPlayList:[],userEmotion:!1,recommendedPlayList:[],userPlayListName:!1}),actions:{async setDetails(){await this.getUserPlayList(),await this.setFav(!1),this.loading=!1},async getRecentlyPlayed(){const e=localStorage.getItem("uid"),t=await n.Z.get(this.root_uri+"/recent/"+e);t.data.length&&(this.showRecentlyPlayed=!0,this.recentlyPlayedList=t.data[0].MusicId,this.setRP())},async setRP(){if(this.likedSongs){const e=this.recentlyPlayedList.map((e=>this.likedSongs.includes(e._id)?(e.Fav=!0,e):(e.Fav=!1,e)));this.recentlyPlayed=e}else this.setFav(!0);this.createDll(this.recentlyPlayedList),this.newRecentlyPlayed=this.recentlyPlayedList},async getLikedPlaylist(){const e=await n.Z.get(this.root_uri+"/likes/playlist/"+this.userId);this.likedSongsPlaylist=e.data,this.createDll(this.likedSongsPlaylist)},async getPlayList(e,t){const s=await n.Z.get(this.root_uri+"/musics/"+e+"/"+t);this.musics=s.data,this.updateFav(!0)},async getUserPlayList(){const e=await n.Z.get(this.root_uri+"/playlist/"+this.userId);this.playList=e.data,this.playListCount=e.data.length},async getSample(){const e=await n.Z.get(this.root_uri+"/musics/");return e.data},async getSearchResults(e){const t=await n.Z.get(this.root_uri+"/musics/search/"+e),s=t.data;return s},async createDll(e){if(this.dllist=u(e),!this.currentSongData){this.currentSongData=this.dllist.getAt(0);let e=this.currentSongData.Title;const t=e.split(" ");this.songUrl=t.join(""),this.musicTrack=new Audio(this.currentSong.MusicURL)}},async setFav(e){try{const t=localStorage.getItem("uid"),s=await n.Z.get(this.root_uri+"/likes/"+t);if(this.likedSongs=s.data,e)return void this.setRP();this.updateFav(!0)}catch(t){console.log(t.message)}},async updateFav(e){if(this.likedSongs||this.setFav(!1),this.musics&&this.likedSongs){const e=this.musics.map((e=>this.likedSongs.includes(e._id)?(e.Fav=!0,e):e));this.musics=e,console.log(this.musics),this.createDll(this.musics)}e||this.updateLikedList()},async updateLikedList(){try{await n.Z.post(this.root_uri+"/likes/update",{UserId:this.userId,MusicId:this.likedSongs})}catch(e){console.log(e)}},async createUserPlayList(){this.newPlayListName="PlayList "+(this.playListCount+1);const e=await n.Z.post(this.root_uri+"/playlist/add",{UserId:this.userId,PlayListName:this.newPlayListName});this.newPlayListId=e.data._id,this.playList=[...this.playList,e.data],this.playListCount=this.playList.length},async predictEmotion(e){try{const t=await(0,n.Z)({method:"post",url:"http://127.0.0.1:5001/image",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*"},data:{imgURL:e}});this.userEmotion=t.data.result[0].dominant_emotion;const s=await n.Z.get(this.root_uri+"/musics/results/"+this.userEmotion);this.recommendedPlayList=s.data,this.musics=this.recommendedPlayList;const l=this.musics.map((e=>this.likedSongs.includes(e._id)?(e=e.Fav=!0,e):e));this.musics=l,this.createDll(this.musics)}catch(t){console.log(t)}},async saveUserPlayList(){try{await n.Z.post(this.root_uri+"/playlist/update",{UserId:this.userId,PlayListName:this.newPlayListName,nePlayList:this.newPlayList}),this.getUserPlayList(),this.newPlayList=[],this.newPlayListId=!1,this.newPlayListName=!1}catch(e){console.log(e)}},async resumeSong(){this.pause=!0,this.musicTrack.ontimeupdate=()=>{this.musicTiming=this.musicTrack.currentTime},this.musicTrack.play()},async pauseSong(){this.pause=!1,this.musicTrack.pause()},async nextSong(){this.currentSong=await this.dllist.nextSong(this.currentSong),this.setMusicTrack()},async setMusicTrack(){try{this.currentSongData=this.dllist.getAt(this.currentSong),this.musicTrack=new Audio(this.currentSongData.MusicURL),console.log(this.musicTrack),this.musicTrack.play(),this.musicTiming=0,this.musicTrack.ontimeupdate=()=>{this.musicTiming=this.musicTrack.currentTime},this.updateRecentlyPlayed(),this.musicTrack.onended=()=>{console.log("Ended",this.currentSong,"sdsd"),this.currentSongData=this.dllist.nextSong(this.currentSong),console.log(this.currentSongData),this.currentSong=this.dllist.getIndex(this.currentSongData),this.setMusicTrack()},this.pause=!0}catch(e){this.pause=!1,console.log(e.message)}},async updateRecentlyPlayed(){this.newRecentlyPlayed=this.newRecentlyPlayed.filter((e=>e._id!==this.currentSongData._id)),this.newRecentlyPlayed.length>12&&(this.newRecentlyPlayed=this.newRecentlyPlayed.slice(0,-1)),this.newRecentlyPlayed=[this.currentSongData,...this.newRecentlyPlayed];try{await n.Z.post(this.root_uri+"/recent/update",{userId:this.userId,MusicId:this.newRecentlyPlayed})}catch(e){console.log("err")}},async setTime(e){this.musicTrack.currentTime=e}}}),d={key:0,class:"w-full z-20 lg:h-20 flex lg:flex-row flex-col items-center justify-between bg-gray-800"},m={class:"flex w-full border-b lg:border-none border-b-slate-600 px-5 py-3 lg:w-1/3 pl-10 justify-between overflow-hidden items-center"},h={class:"lg:mb-1 text-md text-white tracking-wide"},p={class:"hidden lg:block text-sm text-gray-400 tracking-wide"},f={class:"news-ticker lg:hidden"},y={class:"text-sm w-300px text-gray-400 tracking-wide"},x={class:"lg:w-2/3 w-full px-5 lg:py-4 flex flex-col items-center py-2"},b={class:"flex items-center"},w={class:"w-full flex"},v={class:"mr-5"},k=["value","max"],S={class:"ml-5"},_={class:"lg:flex hidden w-1/5 pr-4 items-center flex-row justify-center"};var L={__name:"MusicPlayer",setup(e){const t=g(),s=async()=>{console.log(t.currentSongData.Fav),t.musicTrack?t.pauseSong():await t.setMusicTrack()},l=e=>{0==t.likedSongs.length?t.likedSongs=[e._id]:t.likedSongs=[...t.likedSongs,e._id];for(const t in e)Object.hasOwnProperty.call(e,t)&&"Fav"==t&&(e[t]=!0);t.updateFav()},n=e=>{for(const t in e)Object.hasOwnProperty.call(e,t)&&"Fav"==t&&(e[t]=!1);t.likedSongs=t.likedSongs.filter((t=>t!=e._id)),t.updateFav()},o=async()=>{t.musicTrack?t.resumeSong():await t.setMusicTrack()},c=async()=>{const e=t.dllist.previousSong(t.currentSong);t.currentSong=t.dllist.getIndex(e),t.musicTrack&&t.musicTrack.pause(),await t.setMusicTrack()},u=async()=>{const e=t.dllist.nextSong(t.currentSong);t.currentSong=t.dllist.getIndex(e),t.musicTrack&&t.musicTrack.pause(),await t.setMusicTrack()},L=()=>{const e=document.getElementById("progressBar").value;t.setTime(e)},P=e=>{var t=e%3600,s=Math.floor(t/60);s=(s<10?"0":"")+s;var l=t%60,a=Math.ceil(l);a=(a<10?"0":"")+a;var i=s+":"+a;return i};return(e,g)=>{const D=(0,a.up)("fa");return(0,i.SU)(t).dllist?((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",m,[(0,a._)("div",null,[(0,a._)("h1",h,(0,r.zw)((0,i.SU)(t).currentSongData.Title),1),(0,a._)("p",p,(0,r.zw)((0,i.SU)(t).currentSongData.Singer),1),(0,a._)("div",f,[(0,a._)("p",y,(0,r.zw)((0,i.SU)(t).currentSongData.Singer),1)])]),(0,i.SU)(t).currentSongData.Fav?((0,a.wg)(),(0,a.j4)(D,{key:0,onClick:g[0]||(g[0]=e=>n((0,i.SU)(t).currentSongData)),class:"ml-5 text-base text-green-300",icon:"heart"})):(0,a.kq)("",!0),(0,i.SU)(t).currentSongData.Fav?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(D,{key:1,onClick:g[1]||(g[1]=e=>l((0,i.SU)(t).currentSongData)),class:"ml-5 text-base text-gray-200",icon:"heart"}))]),(0,a._)("div",x,[(0,a._)("div",b,[(0,a._)("button",{onClick:c,class:"outline-none w-20"},[(0,a.Wm)(D,{class:"text-xl hover:text-green-500 text-gray-300",icon:"backward"})]),1==(0,i.SU)(t).pause?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:s,class:"outline-none border-1 w-20"},[(0,a.Wm)(D,{class:"text-2xl hover:text-green-500 text-gray-300",icon:"pause-circle"})])):(0,a.kq)("",!0),1!=(0,i.SU)(t).pause?((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:o,class:"outline-none border-1 w-20"},[(0,a.Wm)(D,{class:"text-2xl hover:text-green-500 text-gray-300",icon:"play-circle"})])):(0,a.kq)("",!0),(0,a._)("button",{onClick:u,class:"outline-none w-20"},[(0,a.Wm)(D,{class:"text-xl hover:text-green-500 text-gray-300",icon:"forward"})])]),(0,a._)("div",w,[(0,a._)("div",v,[(0,a._)("p",null,(0,r.zw)(P((0,i.SU)(t).musicTiming)),1)]),(0,a._)("input",{id:"progressBar",class:"w-full bg-green-500",type:"range",onChange:g[2]||(g[2]=e=>L()),value:(0,i.SU)(t).musicTiming,min:0,max:(0,i.SU)(t).currentSongData.Duration},null,40,k),(0,a._)("div",S,[(0,a._)("p",null,(0,r.zw)(P((0,i.SU)(t).currentSongData.Duration)),1)])])]),(0,a._)("div",_,[(0,i.SU)(t).currentSongData.Fav?((0,a.wg)(),(0,a.j4)(D,{key:0,onClick:g[3]||(g[3]=e=>n((0,i.SU)(t).currentSongData)),class:"ml-5 text-base text-green-300",icon:"heart"})):(0,a.kq)("",!0),(0,i.SU)(t).currentSongData.Fav?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(D,{key:1,onClick:g[4]||(g[4]=e=>l((0,i.SU)(t).currentSongData)),class:"ml-5 text-base text-gray-200",icon:"heart"}))])])):(0,a.kq)("",!0)}}};const P=L;var D=P,U=s(199),C=s(2483);const T={class:"relativew-full left-0 right-0 lg:p-8 p-4 mb-16 bg-home flex flex-col"},I={key:0,class:"my-3"},j=(0,a._)("h1",{class:"text-2xl font-bold text-aliceblue mb-2"},"Recently Played",-1),R={class:"grid w-full gap-2 lg:grid-cols-7"},N={class:"relateive lg:h-64 h-24 rounded-lg w-full hover:bg-gray-600 flex flex-col justify-between"},z={class:"absolute lg:h-64 h-24 w-56 lg:pt-40 pt-8 pl-8 flex items-start opacity-0 hover:opacity-100"},M=["onClick"],W={class:"flex flex-row pt-4 lg:flex-col"},F=["src"],A={class:"text-gray-100 mt-2 lg:px-[10px] px-4"},q={class:"text-gray-300 lg:px-[10px] px-5"},H={class:"lg:text-5xl text-2xl text-white mb-4 font-bold"},O={class:"grid w-full lg:gap-3 gap-4 grid-cols-2 md:grid-cols-4 lg:grid-cols-4"},Y={class:"absolute w-full selection lg:h-24 h-48 flex items-end p-4 opacity-0 hover:opacity-100"},Z={class:"bg-green-500 rounded-full self-end h-8 w-8 flex items-center justify-center"},K={class:"flex flex-col lg:flex-row"},B=["src"],Q={class:"self-center lg:pl-4 text-sm lg:text-lg text-white"},E=(0,a._)("h1",{class:"lg:text-4xl text-2xl mt-3 text-white mb-4 font-bold"},"You might like this",-1),G={class:"grid w-full lg:gap-2 gap-4 grid-cols-2 sm:grid-cols-4 lg:grid-cols-5"},V={class:"absolute w-full h-48 lg:h-64 flex items-end p-4 opacity-0 hover:opacity-100"},$={class:"bg-green-500 rounded-full self-end h-8 w-8 flex items-center justify-center"},J=["src"],X={class:"flex mt-3 justify-center px-auto text-white"};function ee(e,t,s,l,i,n){const o=(0,a.up)("fa"),c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",T,[i.musicStore.showRecentlyPlayed?((0,a.wg)(),(0,a.iD)("div",I,[j,(0,a._)("div",R,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.musicStore.recentlyPlayedList,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"lg:h-64 h-24 bg-artist rounded-lg",key:e},[(0,a._)("div",N,[(0,a._)("div",z,[(0,a._)("div",{onClick:t=>n.playSong(e),class:"relative bg-green-500 rounded-full h-8 w-8 flex items-center justify-center"},[(0,a.Wm)(o,{class:"text-white",icon:"play"})],8,M)]),(0,a._)("div",W,[(0,a._)("img",{class:"lg:h-40 lg:w-[86%] h-16 w-16 ml-3 mx-1",src:e.imgPath,alt:""},null,8,F),(0,a._)("div",null,[(0,a._)("p",A,(0,r.zw)(e.Title.slice(0,18)),1),(0,a._)("p",q,(0,r.zw)(e.Artist.slice(0,18)),1)])])])])))),128))])])):(0,a.kq)("",!0),(0,a._)("h1",H,(0,r.zw)(i.greeting),1),(0,a._)("div",O,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.MusicDetails.music_type,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"relative lg:h-24 h-48 w-full rounded-lg bg-artist",key:e},[(0,a.Wm)(c,{to:"/type/"+e.type},{default:(0,a.w5)((()=>[(0,a._)("div",Y,[(0,a._)("div",Z,[(0,a.Wm)(o,{class:"text-white",icon:"play"})])])])),_:2},1032,["to"]),(0,a._)("div",K,[(0,a._)("img",{class:"lg:h-20 h-32 lg:m-2 mb-2 m-4",src:e.imgurl},null,8,B),(0,a._)("p",Q,(0,r.zw)(e.type.toUpperCase()),1)])])))),128))]),E,(0,a._)("div",G,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.MusicDetails.music_artist,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"relative lg:h-64 h-48 hover:bg-gray-600 bg-artist rounded-lg",key:e.artist},[(0,a.Wm)(c,{class:"flex flex-col",to:"/artist/"+e.artist},{default:(0,a.w5)((()=>[(0,a._)("div",V,[(0,a._)("div",$,[(0,a.Wm)(o,{class:"text-white",icon:"play"})])])])),_:2},1032,["to"]),(0,a._)("img",{class:"lg:h-[70%] h-[70%] w-[86%] lg:w-[86%] mt-4 mx-[7%] self-center",src:e.imgurl},null,8,J),(0,a._)("p",X,(0,r.zw)(e.artist),1)])))),128))])])}const te={music_artist:[{imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9",artist:"Hiphop Tamizha"},{imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9",artist:"D.Imman"},{imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9",artist:"Vijay Antony"},{imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9",artist:"Pradeep Kumar"},{imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9",artist:"G. V. Prakash"},{imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9",artist:"P. Unnikrishnan"},{imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9",artist:"Harris Jayaraj"},{imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9",artist:"Karthik"},{imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9",artist:"Yuvan Shankar Raja"},{imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9",artist:"Udit Narayan"},{imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9",artist:"A.R. Rahaman"},{imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9",artist:"Anirudh Ravichander"}],music_type:[{type:"melody",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{type:"happy",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{type:"lovevibe",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{type:"love",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{type:"sad",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{type:"rap",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{type:"vibe",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{type:"drug",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"}],music_album:[{album:"harrisvibe",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"love",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"yuvandurg",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"sad",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"vibe",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"happyvibe",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"lovedurg",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"rap",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"goosbums",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"melody",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"breakup",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"alonevibe",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"friend",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"happy",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"kuthusongs",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"dad",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"lovevibe",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"},{album:"onesidelove",imgurl:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9"}]};var se={data(){return{MusicDetails:te,musicStore:!1,greeting:"Good Morning",imgd:"../assets/logo.png"}},methods:{async playSong(e){this.musicStore.currentSong=this.musicStore.dllist.getIndex(e),this.musicStore.musicTrack&&this.musicStore.musicTrack.pause(),await this.musicStore.setMusicTrack()}},mounted(){this.musicStore=g(),this.musicStore.getRecentlyPlayed(),this.recentlyPlayedList&&this.musicStore.createDll(this.recentlyPlayedList);const e=new Date,t=e.getHours();this.greeting=t<12?"Good Morning":t<15?"Good After noon":t<19?"Good Evening":"Good night"}},le=s(89);const ae=(0,le.Z)(se,[["render",ee]]);var ie=ae;const re={class:"relativew-full mb-20 lg:mb-2 left-0 py-4 px-8 bg-home flex flex-col"},ne={class:"searchBar lg:w-[400px] lg:mx-auto w-full bg-white flex px-4 rounded-3xl py-1"},oe={key:0},ce={key:0},ue={class:"hidden h-96 ml-8 rounded-lg lg:flex mt-4"},ge={class:"ml-2 text-white"},de=(0,a._)("h2",{class:"font-bold text-xl text-white"},"Top Result",-1),me=["onClick"],he=(0,a._)("img",{class:"self-center h-56 w-56 m-4",src:"https://filebox-1-x3824723.deta.app/api/embed/9a5a7fb5f904a5f9",alt:""},null,-1),pe={class:"ml-10"},fe={class:"ml-10"},ye={key:0,class:"ml-5 w-full bg-home"},xe=(0,a._)("h2",{class:"mb-4 font-bold text-xl text-white"},"Results",-1),be={key:1,class:"lg:hidden w-full bg-home"},we=(0,a._)("h2",{class:"mb-4 font-bold text-xl text-white"},"Results",-1),ve={key:2,class:"flex justify-center"},ke=(0,a._)("p",{class:"text-medium mt-1 justify-center items-center"},"No results found",-1),Se=[ke],_e=(0,a._)("h1",{class:"text-white pt-4 font-semibold mb-1 lg:mb-4 text-3xl"},"Browse all",-1),Le={class:"grid w-full lg:gap-3 gap-4 grid-cols-2 lg:grid-cols-5"},Pe={class:"flex mt-5 justify-center px-auto text-white"},De=["src"],Ue={class:"flex mt-5 justify-center px-auto text-white"},Ce=["src"];function Te(e,t,s,i,n,o){const c=(0,a.up)("fa"),u=(0,a.up)("MusicContainer"),g=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",re,[(0,a._)("div",ne,[(0,a.Wm)(c,{class:"h-5 py-1 w-5",icon:"magnifying-glass"}),(0,a.wy)((0,a._)("input",{onKeyup:t[0]||(t[0]=(...e)=>o.resultQuery&&o.resultQuery(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>n.searchQuery=e),class:"ml-3 w-full text-lg outline-none",type:"search",placeholder:"text"},null,544),[[l.nr,n.searchQuery]])]),n.flag?((0,a.wg)(),(0,a.iD)("div",oe,[n.topResult.length>0?((0,a.wg)(),(0,a.iD)("div",ce,[(0,a._)("div",ue,[(0,a._)("div",ge,[de,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.topResult,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e,onClick:t=>o.playSong(e),class:"h-80 mt-4 w-80 rounded-lg hover:bg-gray-800 flex flex-col"},[he,(0,a._)("p",pe,(0,r.zw)(e.Title),1),(0,a._)("p",fe,(0,r.zw)(e.Artist),1)],8,me)))),128))]),n.searchResults.length>0?((0,a.wg)(),(0,a.iD)("div",ye,[xe,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.searchResults,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},[(0,a.Wm)(u,{title:"Chandralingam",music:e},null,8,["music"])])))),128))])):(0,a.kq)("",!0)])])):(0,a.kq)("",!0),n.searchResults.length>0?((0,a.wg)(),(0,a.iD)("div",be,[we,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.searchResults,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},[(0,a.Wm)(u,{title:"Chandralingam",music:e},null,8,["music"])])))),128))])):((0,a.wg)(),(0,a.iD)("div",ve,Se))])):(0,a.kq)("",!0),_e,(0,a._)("div",null,[(0,a._)("div",Le,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.MusicDetails.music_artist,(e=>((0,a.wg)(),(0,a.iD)("div",{class:(0,r.C_)(["lg:h-60 h-44 overflow-hidden rounded-lg m-2 flex flex-col",n.color[Math.floor(Math.random()*n.color.length)]]),key:e.artist},[(0,a.Wm)(g,{to:"/artist/"+e.artist},{default:(0,a.w5)((()=>[(0,a._)("p",Pe,(0,r.zw)(e.artist.toUpperCase()),1),(0,a._)("img",{class:"h-36 rotate-45 mt-16 self-end",src:e.imgurl},null,8,De)])),_:2},1032,["to"])],2)))),128)),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.MusicDetails.music_album,(e=>((0,a.wg)(),(0,a.iD)("div",{class:(0,r.C_)(["lg:h-60 h-44 overflow-hidden rounded-lg m-2 flex flex-col",n.color[Math.floor(Math.random()*n.color.length)]]),key:e.album},[(0,a.Wm)(g,{to:"/album/"+e.album},{default:(0,a.w5)((()=>[(0,a._)("p",Ue,(0,r.zw)(e.album.toLocaleUpperCase()),1),(0,a._)("img",{class:"h-36 rotate-45 lg:mt-16 mt-10 self-end",src:e.imgurl},null,8,Ce)])),_:2},1032,["to"])],2)))),128))])])])}const Ie={class:"relateive h-16 pt-2 rounded-lg w-full hover:bg-gray-600 flex justify-between"},je={class:"bg-green-500 rounded-full mt-2 ml-4 h-8 w-8 flex items-center justify-center"},Re={class:"flex"},Ne=["src"],ze={class:"hidden lg:block text-gray-100"},Me={class:"lg:hidden text-gray-100"},We={class:"hidden lg:block text-gray-300"},Fe={class:"news-ticker lg:hidden"},Ae={class:"w-300px text-gray-300"},qe={class:"h-12 z-0 py-auto lg:w-24 w-8 flex justify-around lg:mr-10 mr-4"},He={class:"flex items-center mr-2 justify-center"},Oe={class:"text-gray-200 self-center"},Ye={name:"musicContainer",props:["music"],data(){return{flag:!1,musicStore:g()}},mounted(){this.flag=this.music.Fav},methods:{addLike(e){if(this.musicStore.likedSongs){console.log(this.musicStore.likedSongs?.includes(e._id)),this.musicStore.likedSongs=[...this.musicStore.likedSongs,e._id];for(const t in e)Object.hasOwnProperty.call(e,t)&&"Fav"==t&&(e[t]=!0);this.musicStore.updateLikedList(),this.musicStore.updateFav(!0)}else this.musicStore.likedSongs=[e._id]},removeLike(e){for(const t in e)Object.hasOwnProperty.call(e,t)&&"Fav"==t&&(e[t]=!1);this.musicStore.likedSongs=this.musicStore.likedSongs.filter((t=>t!=e._id)),this.musicStore.likedSongs=[...this.musicStore.likedSongs],console.log(this.musicStore.likedSongs),this.musicStore.updateLikedList(),this.musicStore.updateFav(!0)}}};var Ze=Object.assign(Ye,{setup(e){const t=g(),s=async e=>{t.currentSong=t.dllist.getIndex(e),t.musicTrack&&t.musicTrack.pause(),await t.setMusicTrack()},l=e=>{var t=e%3600,s=Math.floor(t/60);let l=t%60;var a=Math.ceil(l);a=a<10?"0"+a:a;var i=s+":"+a;return i},i=e=>e.slice(0,24);return(t,n)=>{const o=(0,a.up)("fa");return(0,a.wg)(),(0,a.iD)("div",Ie,[(0,a._)("div",{onClick:n[0]||(n[0]=t=>s(e.music)),class:"absolute w-full h-12 flex items-start opacity-0 lg:hover:opacity-100"},[(0,a._)("div",je,[(0,a.Wm)(o,{class:"text-white",icon:"play"})])]),(0,a._)("div",Re,[(0,a._)("img",{class:"h-12 w-12 mx-2",src:e.music.imgPath,alt:""},null,8,Ne),(0,a._)("div",null,[(0,a._)("p",ze,(0,r.zw)(e.music.Title),1),(0,a._)("p",Me,(0,r.zw)(i(e.music.Title)),1),(0,a._)("p",We,(0,r.zw)(e.music.Artist),1),(0,a._)("div",Fe,[(0,a._)("p",Ae,(0,r.zw)(e.music.Artist),1)])])]),(0,a._)("div",qe,[(0,a._)("div",He,[0==e.music.Fav?((0,a.wg)(),(0,a.iD)("div",{key:0,onClick:n[1]||(n[1]=s=>t.addLike(e.music))},[(0,a.Wm)(o,{class:"lg:hover:text-white text-black self-center",icon:"heart"})])):((0,a.wg)(),(0,a.iD)("div",{key:1,onClick:n[2]||(n[2]=s=>t.removeLike(e.music))},[(0,a.Wm)(o,{class:"text-green-400 self-center",icon:"heart"})]))]),(0,a._)("p",Oe,(0,r.zw)(l(e.music.Duration)),1)])])}}});const Ke=Ze;var Be=Ke,Qe={data(){return{MusicDetails:te,details:!1,musicStore:g(),searchResults:!1,topResult:!1,flag:!1,searchQuery:"",color:["bg-pink-600","bg-pink-700","bg-purple-800","bg-indigo-800","bg-blue-700","bg-green-600","bg-yellow-700","bg-red-800","bg-red-500","bg-blue-500"]}},components:{MusicContainer:Be},methods:{getColor(){return!0},async playSong(e){this.musicStore.currentSong=this.musicStore.dllist.getIndex(e),this.musicStore.musicTrack&&this.musicStore.musicTrack.pause(),await this.musicStore.setMusicTrack()},async resultQuery(){this.searchQuery?(this.flag=!0,this.details=await this.musicStore.getSearchResults(this.searchQuery),this.musicStore.likedSongs&&(this.details=this.details.map((e=>this.musicStore.likedSongs.includes(e._id)?(e.Fav=!0,e):e))),this.details&&(this.musicStore.createDll(this.details),this.topResult=this.details.slice(0,1),this.searchResults=this.details.slice(1,6))):this.flag=!1}},mounted(){this.musicStore=g()}};const Ee=(0,le.Z)(Qe,[["render",Te]]);var Ge=Ee;const Ve={key:0,class:"bg-home pt-20 lg:pt-10 px-10 flex flex-col justify-center"},$e={class:"self-center h-80"},Je={ref:"canvas",style:{display:"none"}},Xe={key:1},et={key:0,class:"lg:p-8 pb-0 p-4 text-xl lg:text-2xl lg:pb-14 text-aliceblue"},tt={key:1,class:"lg:p-8 pb-0 p-4 text-xl lg:text-2xl lg:pb-14 text-aliceblue"},st=(0,a._)("h1",{class:"lg:p-8 p-4 py-2 text-xl lg:text-2xl lg:pb-14 text-aliceblue"},"I Recommend Some Songs For You....",-1),lt={class:"p-4 pt-2 lg:px-16"};function at(e,t,s,l,i,n){const o=(0,a.up)("MusicContainer");return(0,a.wg)(),(0,a.iD)(a.HY,null,[i.imgUrl?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Ve,[(0,a._)("div",$e,[(0,a._)("video",{ref:"video",onCanplay:t[0]||(t[0]=e=>n.initCanvas())},"Stream unavailable",544)]),(0,a._)("button",{onClick:t[1]||(t[1]=e=>n.takePicture()),class:"lg:mt-5 mt-48 py-2 px-6 outline-none self-center bg-gray-400 text-white w-44 font-semibold text-lg rounded-lg hover:shadow-lg"},"capture image"),(0,a._)("canvas",Je,null,512)])),i.flag?((0,a.wg)(),(0,a.iD)("div",Xe,[e.musicStore.userName?((0,a.wg)(),(0,a.iD)("h1",et,"Hello "+(0,r.zw)(e.musicStore.userName),1)):(0,a.kq)("",!0),e.musicStore.userName?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("h1",tt,"Hello Buddy")),st,(0,a._)("div",lt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.musicStore.musics,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"h-14 mt-2 rounded-lg w-full hover:bg-gray-600 flex justify-between",key:e},[(0,a.Wm)(o,{music:e},null,8,["music"])])))),128))])])):(0,a.kq)("",!0)],64)}var it={name:"ScanPage",musicStore:!1,mounted(){this.video=this.$refs.video,this.canvas=this.$refs.canvas,this.musicStore=g(),this.startCapture()},components:{MusicContainer:Be},unmounted(){this.endCapture()},methods:{endCapture(){this.videoStream.getTracks().forEach((function(e){"live"==e.readyState&&"video"===e.kind&&e.stop()}))},startCapture(){navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((e=>{this.video.srcObject=e,this.videoStream=e,this.video.play()})).catch((e=>{console.log(e)}))},async takePicture(){let e=this.canvas.getContext("2d");e.drawImage(this.video,0,0,this.video.videoWidth,this.video.videoHeight),this.imgUrl=this.canvas.toDataURL("image/png"),this.endCapture(),await this.musicStore.predictEmotion(this.imgUrl),this.flag=!0},initCanvas(){this.canvas.setAttribute("width",this.video.videoWidth),this.canvas.setAttribute("height",this.video.videoHeight)}},data(){return{video:!1,canvas:!1,flag:!1,imgUrl:!1,videoStream:!1}}};const rt=(0,le.Z)(it,[["render",at]]);var nt=rt;const ot={class:"bg-home h-screen"},ct={class:"flex lg:h-72 h-52 p-6 bg-gray-500"},ut={class:"lg:h-60 h-40 w-40 bg-pink-600 flex justify-center lg:w-60"},gt={class:"flex lg:ml-10 ml-3 flex-col justify-center text-white lg:h-60"},dt=(0,a._)("h2",{class:"text-md mb-1"},"PUBLIC PLAYLIST",-1),mt=(0,a._)("h1",{class:"lg:text-6xl text-2xl font-bold"},"Liked Songs ",-1),ht={key:0,class:"text-lg lg:mt-4 mt-1 text-gray-200"},pt={key:0,class:"text-white lg:pb-20 pb-36 bg-home lg:px-8 px-4"};var ft={__name:"LikesPage",setup(e){const t=g();return(0,a.bv)((()=>{t.getLikedPlaylist()})),(e,s)=>{const l=(0,a.up)("fa");return(0,a.wg)(),(0,a.iD)("div",ot,[(0,a._)("div",ct,[(0,a._)("div",ut,[(0,a.Wm)(l,{class:"text-white self-center h-20",icon:"heart"})]),(0,a._)("div",gt,[dt,mt,0!=(0,i.SU)(t).userName?((0,a.wg)(),(0,a.iD)("p",ht,(0,r.zw)((0,i.SU)(t).userName),1)):(0,a.kq)("",!0)])]),(0,i.SU)(t).likedSongsPlaylist?((0,a.wg)(),(0,a.iD)("div",pt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,i.SU)(t).likedSongsPlaylist,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"h-14 mt-2 rounded-lg w-full hover:bg-gray-600 flex justify-between",key:e},[(0,a.Wm)(Be,{music:e},null,8,["music"])])))),128))])):(0,a.kq)("",!0)])}}};const yt=ft;var xt=yt;const bt={class:"bg-home"},wt={class:"bg-gray-500 flex py-5 flex-col px-8 justify-center text-white lg:h-60"},vt=(0,a._)("h2",{class:"text-lg mb-1"},"PUBLIC PLAYLIST",-1),kt={class:"text-6xl font-bold"},St={class:"text-lg mt-4 text-gray-200"},_t={key:0,class:"flex flex-col lg:mt-5 p-4 lg:mx-20"},Lt=(0,a._)("h1",{class:"text-white font-bold text-lg lg:text-2xl"},"New Play List ",-1),Pt={class:"flex mx-3 my-1 w-full"},Dt=["src"],Ut={class:"lg:ml-6 ml-2"},Ct={class:"text-semibold"},Tt={class:"text-gray-300"},It={class:"lg:mr-10 mr-3 flex items-center align-center justify-center"},jt=["onClick"],Rt={class:"flex flex-col pt-0 p-4 lg:px-20"},Nt=(0,a._)("h1",{class:"text-white text-lg mt-3 font-semibold"},"Let's find something for your playlist",-1),zt={class:"searchBar my-3 w-full lg:w-96 bg-gray-300 flex px-4 rounded-md py-1"},Mt={key:0},Wt={class:"flex mx-3 my-1 w-full"},Ft=["src"],At={class:"lg:ml-6 ml-2"},qt={class:"text-semibold"},Ht={class:"text-gray-300"},Ot={class:"lg:mr-10 pb-2 py-auto items-center align-center mr-3"},Yt=["onClick"],Zt={key:1},Kt=(0,a._)("p",null,"No Records Found",-1),Bt=[Kt],Qt={data(){return{musicStore:g(),searchResults:!1,searchQuery:"",color:["bg-pink-600","bg-pink-700","bg-purple-800","bg-indigo-800","bg-blue-700","bg-green-600","bg-yellow-700","bg-red-800","bg-red-500","bg-blue-500"]}},methods:{async getSlice(){this.searchResults=await this.musicStore.getSample()},async resultQuery(){if(this.searchQuery){const e=await this.musicStore.getSearchResults(this.searchQuery);this.searchResults=e.slice(0,15)}else this.searchResults=await this.musicStore.getSample()}},mounted(){this.musicStore=g(),this.getSlice()}};var Et=Object.assign(Qt,{__name:"CreatePlayList",setup(e){const t=g(),s=e=>{t.newPlayList.includes(e)||(t.newPlayList=[...t.newPlayList,e])},i=e=>{t.newPlayList=t.newPlayList.filter((t=>t._id!=e._id))};(0,a.bv)((()=>{t.createUserPlayList()})),(0,a.Ah)((()=>{console.log("hii"),t.newPlayList.length>0?t.saveUserPlayList():(n.Z["delete"](t.root_uri+"/playlist/delete/"+t.userId+"/"+t.newPlayListName),t.playList.pop())}));const o=e=>e.slice(0,25);return(e,t)=>{const n=(0,a.up)("fa");return(0,a.wg)(),(0,a.iD)("div",bt,[(0,a._)("div",wt,[vt,(0,a._)("h1",kt,(0,r.zw)(e.musicStore.newPlayListName),1),(0,a._)("p",St,(0,r.zw)(e.musicStore.userName),1)]),0!=e.musicStore.newPlayList.length?((0,a.wg)(),(0,a.iD)("div",_t,[Lt,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.musicStore.newPlayList,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"h-16 items-center text-white mx-0 hover:bg-gray-700 rounded-md justify-between flex bg-gray-800 m-2",key:e},[(0,a._)("div",Pt,[(0,a._)("img",{class:"h-12 w-12",src:e.imgPath,alt:""},null,8,Dt),(0,a._)("div",Ut,[(0,a._)("p",Ct,(0,r.zw)(o(e.Title)),1),(0,a._)("p",Tt,(0,r.zw)(e.Artist),1)])]),(0,a._)("div",It,[(0,a.Wm)(n,{class:"h-6 text-green-600 rounded-full text-xl lg:text-2xl font-bold w-6 mr-2 lg:mr-8",icon:"check-circle"}),(0,a._)("button",{onClick:t=>i(e),class:"lg:h-10 lg:w-10 w-7 h-7 text-white bg-gray-500 rounded-full text-2xl font-bold"},[(0,a.Wm)(n,{icon:"remove"})],8,jt)])])))),128))])):(0,a.kq)("",!0),(0,a._)("div",Rt,[Nt,(0,a._)("div",zt,[(0,a.Wm)(n,{class:"h-5 bg-gray-300 py-1 w-5",icon:"magnifying-glass"}),(0,a.wy)((0,a._)("input",{onKeyup:t[0]||(t[0]=(...t)=>e.resultQuery&&e.resultQuery(...t)),"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchQuery=t),class:"ml-3 text-lg bg-transparent outline-none w-full",type:"search",placeholder:"search"},null,544),[[l.nr,e.searchQuery]])]),0!=e.searchResults.length?((0,a.wg)(),(0,a.iD)("div",Mt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.searchResults,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"h-16 items-center hover:bg-gray-700 mx-0 rounded-md justify-between flex bg-gray-800 m-2",key:e},[(0,a._)("div",Wt,[(0,a._)("img",{class:"h-12 w-12",src:e.imgPath,alt:""},null,8,Ft),(0,a._)("div",At,[(0,a._)("p",qt,(0,r.zw)(e.Title),1),(0,a._)("p",Ht,(0,r.zw)(e.Artist),1)])]),(0,a._)("div",Ot,[(0,a._)("button",{onClick:t=>s(e),class:"lg:h-10 lg:w-10 w-7 h-7 align-center items-center text-white bg-gray-500 rounded-full text-xl lg:text-2xl font-bold"},[(0,a.Wm)(n,{icon:"add"})],8,Yt)])])))),128))])):((0,a.wg)(),(0,a.iD)("div",Zt,Bt))])])}}});const Gt=Et;var Vt=Gt;const $t={class:"bg-home py-6 lg:px-10 px-3 pb-16 lg:pb-0"},Jt=(0,a._)("h1",{class:"text-white ml-2 font-bold text-3xl mb-5"},"Play List",-1),Xt={class:"flex flex-col lg:flex-row flex-wrap"},es={key:0,class:"lg:h-72 lg:px-4 h-16 py-2 flex flex-row col-span-2 rounded-lg pl-6 text-white bg-green-400 m-2 lg:flex-col justify-center"},ts=["for"],ss={class:"flex ml-4 lg:ml-0 flex-col"},ls=(0,a._)("h1",{class:"lg:mt-8 lg:text-3xl text-xl font-bold"},"Liked Songs",-1),as={class:"lg:mt-5 text-md font-medium"},is={class:"h-16 lg:h-72 px-7 flex flex-row lg:flex-col justify-center justify-items-center rounded-lg text-white lg:mx-3 hover:bg-gray-700 bg-gray-800 m-2"},rs={class:"lg:self-center"},ns=(0,a._)("h2",{class:"lg:mt-4 self-center"},"Create New PlayList",-1),os=["v-if"],cs={class:"flex flex-row lg:flex-col"},us=(0,a._)("div",{class:"lg:h-44 lg:w-full h-16 w-16 lg:mb-5 rounded-lg bg-gray-400"},null,-1),gs={class:"ml-4 lg:ml-0"},ds={class:"text-semibold text-xl my-1"},ms={class:"news-ticker"},hs={class:"text-gray-300 text-semibold"};var ps={__name:"LibraryPage",setup(e){const t=g();return(0,a.bv)((()=>{t.getUserPlayList()})),(e,s)=>{const l=(0,a.up)("fa"),n=(0,a.up)("Router-Link"),o=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",$t,[Jt,(0,a._)("div",Xt,[(0,a.Wm)(n,{to:"/likes"},{default:(0,a.w5)((()=>[(0,i.SU)(t).likedSongsPlaylist.length?((0,a.wg)(),(0,a.iD)("div",es,[((0,a.wg)(),(0,a.iD)("div",{for:e.song in(0,i.SU)(t).likedSongs,key:e.song},[(0,a.Wm)(l,{icon:"heart",class:"lg:text-6xl text-4xl pt-2 lg:pt-0 mx-auto"})],8,ts)),(0,a._)("div",ss,[ls,(0,a._)("h4",as,(0,r.zw)((0,i.SU)(t).likedSongsPlaylist.length)+" liked songs",1)])])):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(n,{to:"/createplaylist"},{default:(0,a.w5)((()=>[(0,a._)("div",is,[(0,a._)("div",rs,[(0,a.Wm)(l,{icon:"add",class:"lg:h-8 h-6 lg:pt-0 pt-5 mr-2 lg:mr-0"})]),ns])])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,i.SU)(t).playList,(e=>((0,a.wg)(),(0,a.iD)("div",{"v-if":(0,i.SU)(t).playList.length,class:"lg:h-72 p-4 overflow-hidden rounded-lg text-white hover:bg-gray-700 bg-gray-800 m-2",key:e},[(0,a.Wm)(o,{to:"/playlist/"+e.PlayListName},{default:(0,a.w5)((()=>[(0,a._)("div",cs,[us,(0,a._)("div",gs,[(0,a._)("h2",ds,(0,r.zw)(e.PlayListName),1),(0,a._)("div",ms,[(0,a._)("p",hs,"By "+(0,r.zw)((0,i.SU)(t).userName),1)])])])])),_:2},1032,["to"])],8,os)))),128))])])}}};const fs=ps;var ys=fs;const xs={class:"bg-home min-h-screen"},bs={class:"flex lg:h-72 h-42 h-52 p-6 bg-gray-500"},ws={class:"lg:h-60 h-40 w-40 bg-pink-600 flex justify-center lg:w-60"},vs={class:"flex lg:ml-10 ml-3 flex-col justify-center text-white lg:h-60"},ks=(0,a._)("h2",{class:"text-md mb-1"},"PUBLIC PLAYLIST",-1),Ss={class:"lg:text-6xl text-2xl font-bold"},_s={key:0,class:"text-lg lg:mt-4 mt-1 text-gray-200"},Ls=(0,a._)("div",{class:""},[(0,a._)("hr",{class:"lg:mt-16 mt-4 mx-2 lg:mx-8"})],-1),Ps={class:"text-white bg-home lg:px-8 px-2 pb-3"};function Ds(e,t,s,l,i,n){const o=(0,a.up)("fa"),c=(0,a.up)("MusicContainer");return(0,a.wg)(),(0,a.iD)("div",xs,[(0,a._)("div",bs,[(0,a._)("div",ws,[(0,a.Wm)(o,{class:"text-white self-center h-20",icon:"heart"})]),(0,a._)("div",vs,[ks,(0,a._)("h1",Ss,(0,r.zw)(i.playlistname)+" Songs ",1),0!=i.musicStore.userName?((0,a.wg)(),(0,a.iD)("p",_s,(0,r.zw)(i.musicStore.userName),1)):(0,a.kq)("",!0)])]),Ls,(0,a._)("div",Ps,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.musicStore.musics,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"h-14 mt-2 rounded-lg w-full hover:bg-gray-600 flex justify-between",key:e},[(0,a.Wm)(c,{music:e},null,8,["music"])])))),128))])])}var Us={data(){return{playlist:!1,playlistname:this.$route.params.value,musicStore:!1}},components:{MusicContainer:Be},mounted(){this.musicStore=g();const e=this.$route.params.type,t=this.$route.params.value;this.setPlayList(e,t)},unmounted(){this.musicStore.userId&&this.musicStore.updateLikedList()},methods:{async setPlayList(e,t){if("type"==e)try{await this.musicStore.getPlayList("type",t,"j")}catch(s){console.log(s)}else if("album"==e)try{await this.musicStore.getPlayList("playlist",t,"j")}catch(s){console.log(s)}else if("artist"==e)try{await this.musicStore.getPlayList("artist",t,"j")}catch(s){console.log(s)}}}};const Cs=(0,le.Z)(Us,[["render",Ds]]);var Ts=Cs,Is=s(340);async function js(e,t){const s=await n.Z.post("https://musicappserver-1-x3219821.deta.app/users/add",{userId:e,userName:t});return s.data.userName}const Rs={class:"relative flex bg-home"},Ns={class:"w-96 mx-auto rounded-lg bg-gray-200 my-36 flex flex-col justify-center"},zs=(0,a._)("h1",{class:"text-black mt-20 text-xl mb-5 font-bold self-center"},"Sign In",-1),Ms={class:"self-center mb-9"},Ws=(0,a._)("button",{class:"self-center m-1 rounded-lg py-1 hover:text-blue-500 text-blue-300 font-semibold"},"Signup",-1);var Fs={__name:"LoginPage",setup(e){const t=(0,i.iH)(),s=(0,i.iH)(""),r=(0,C.tv)(),o=g(),c=()=>{const e=(0,Is.v0)();(0,Is.e5)(e,t.value,s.value).then((async e=>{o.userId=e.user.uid,localStorage.setItem("uid",e.user.uid),o.setFav(!1),o.getUserPlayList(),r.push("/");const t=await n.Z.get(o.root_uri+"/users/"+e.user.uid);o.userName=await t.data.userName,o.setDetails()})).catch((e=>{alert(e.message)}))},u=()=>{const e=new Is.hJ;(0,Is.rh)((0,Is.v0)(),e).then((async e=>{await js(e.user.uid,e.user.displayName),localStorage.setItem("uid",e.user.uid),o.setFav(!1),o.getUserPlayList(),r.push("/");const t=await n.Z.get(o.root_uri+"/users/"+e.user.uid);o.userName=await t.data.userName,o.setDetails()})).catch((e=>console.log(e)))};return(e,i)=>{const r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",Rs,[(0,a._)("div",Ns,[zs,(0,a.wy)((0,a._)("input",{class:"w-80 m-2 py-1 px-4 self-center",required:"",type:"text",placeholder:"email","onUpdate:modelValue":i[0]||(i[0]=e=>t.value=e)},null,512),[[l.nr,t.value]]),(0,a.wy)((0,a._)("input",{class:"w-80 m-2 py-1 px-4 self-center items-center",required:"",type:"password",placeholder:"password","onUpdate:modelValue":i[1]||(i[1]=e=>s.value=e)},null,512),[[l.nr,s.value]]),(0,a._)("button",{class:"self-center m-1 rounded-lg mt-5 py-1 bg-gray-600 text-white hover:text-black font-semibold hover:bg-gray-400 w-40",onClick:c},"Submit"),(0,a._)("button",{class:"self-center m-1 rounded-lg pt-1 hover:text-blue-500 text-blue-300 font-semibold w-40",onClick:u},"Sign in With Google "),(0,a._)("h3",Ms,[(0,a.Uk)("Don't you have an account?"),(0,a.Wm)(r,{to:"/register"},{default:(0,a.w5)((()=>[Ws])),_:1})])])])}}};const As=Fs;var qs=As;const Hs={class:"bg-home h-screen"},Os={class:"flex lg:h-72 h-42 h-52 p-6 bg-gray-500"},Ys={class:"lg:h-60 h-40 w-40 bg-pink-600 flex justify-center lg:w-60"},Zs={class:"flex lg:ml-10 ml-3 flex-col justify-center text-white lg:h-60"},Ks=(0,a._)("h2",{class:"text-md mb-1"},"PUBLIC PLAYLIST",-1),Bs={class:"lg:text-6xl text-2xl font-bold"},Qs={class:"text-lg lg:mt-4 mt-1 text-gray-200"},Es=(0,a._)("div",{class:""},[(0,a._)("hr",{class:"lg:mt-16 mt-4 mx-2 lg:mx-8"})],-1),Gs={class:"text-white bg-home lg:px-8 px-2 pb-3"};function Vs(e,t,s,l,i,n){const o=(0,a.up)("fa"),c=(0,a.up)("MusicContainer");return(0,a.wg)(),(0,a.iD)("div",Hs,[(0,a._)("div",Os,[(0,a._)("div",Ys,[(0,a.Wm)(o,{class:"text-white self-center h-20",icon:"heart"})]),(0,a._)("div",Zs,[Ks,(0,a._)("h1",Bs,(0,r.zw)(this.$route.name)+" Songs ",1),(0,a._)("p",Qs,(0,r.zw)(i.musicStore.userName),1)])]),Es,(0,a._)("div",Gs,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.playlist,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"h-14 mt-2 rounded-lg w-full hover:bg-gray-600 flex justify-between",key:e},[(0,a.Wm)(c,{music:e},null,8,["music"])])))),128))])])}var $s={data(){return{playlist:!1,name:!1,musicStore:g()}},components:{MusicContainer:Be},mounted(){const e=g();this.name=this.$route.params.name;const t=e.playList.filter((e=>e.PlayListName==this.name));if(console.log(t[0].newPlayList),this.playlist=t[0].newPlayList,e.likedSongs){const t=this.playlist.map((t=>e.likedSongs.includes(t._id)?(t.Fav=!0,t):t));this.playlist=t,e.createDll(this.playlist),console.log("bye")}else this.getLikes()},methods:{async getLikes(){const e=localStorage.getItem("uid"),t=await n.Z.get(this.root_uri+"/likes/"+e);this.musicStore.likedSongs=t.data;const s=this.playlist.map((e=>this.musicStore.likedSongs.includes(e._id)?(e.Fav=!0,e):e));this.playlist=s,this.musicStore.createDll(this.playlist),console.log("hii")}}};const Js=(0,le.Z)($s,[["render",Vs]]);var Xs=Js;const el={class:"flex bg-home h-screen w-full"},tl={class:"w-96 mx-auto bg-gray-200 my-auto h-1/2 flex flex-col justify-center"},sl=(0,a._)("h1",{class:"text-black text-xl mb-5 font-bold self-center"},"Create an Account",-1),ll={class:"self-center mb-9"},al=(0,a._)("button",{class:"self-center m-1 rounded-lg py-1 hover:text-blue-500 text-blue-300 font-semibold"},"Signup",-1);var il={__name:"RegisterPage",setup(e){const t=(0,i.iH)(),s=(0,i.iH)(),r=(0,i.iH)(""),n=(0,C.tv)(),o=g(),c=()=>{const e=(0,Is.v0)();t.value.length<=3?alert("Enter a good user Name"):(0,Is.Xb)(e,s.value,r.value).then((async e=>{await js(e.user.uid,t.value),o.userId=e.user.uid,o.userName=t.value,localStorage.setItem("uid",e.user.uid),n.push("/")})).catch((e=>{alert(e.message)}))},u=()=>{const e=new Is.hJ;(0,Is.rh)((0,Is.v0)(),e).then((async e=>{await js(e.user.uid,e.user.displayName),o.userId=e.user.uid,console.log(e.user),o.userName=e.user.displayName,localStorage.setItem("uid",e.user.uid),n.push("/")})).catch((e=>console.log(e.message)))};return(e,i)=>{const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",el,[(0,a._)("div",tl,[sl,(0,a.wy)((0,a._)("input",{class:"w-80 m-2 py-1 px-4 self-center",required:"",type:"text",placeholder:"username","onUpdate:modelValue":i[0]||(i[0]=e=>t.value=e)},null,512),[[l.nr,t.value]]),(0,a.wy)((0,a._)("input",{class:"w-80 m-2 py-1 px-4 self-center",required:"",type:"text",placeholder:"email","onUpdate:modelValue":i[1]||(i[1]=e=>s.value=e)},null,512),[[l.nr,s.value]]),(0,a.wy)((0,a._)("input",{class:"w-80 m-2 py-1 px-4 self-center",required:"",type:"password",placeholder:"password","onUpdate:modelValue":i[2]||(i[2]=e=>r.value=e)},null,512),[[l.nr,r.value]]),(0,a._)("button",{class:"self-center m-1 rounded-lg mt-5 py-1 bg-gray-600 text-white hover:text-black font-semibold hover:bg-gray-400 w-40",onClick:c},"Submit"),(0,a._)("button",{class:"self-center m-1 rounded-lg pt-1 hover:text-blue-500 text-blue-300 font-semibold w-40",onClick:u},"Sign in With Google "),(0,a._)("h3",ll,[(0,a.Uk)("Already you have an account?"),(0,a.Wm)(n,{to:"/login"},{default:(0,a.w5)((()=>[al])),_:1})])])])}}};const rl=il;var nl=rl;const ol=[{path:"/",name:"Home",component:ie},{path:"/search",name:"Search",component:Ge},{path:"/scan",name:"Scan",component:nt},{path:"/likes",name:"Likes",component:xt,meta:{requiresAuth:!0}},{path:"/createplaylist",name:"CreatePlayList",component:Vt},{path:"/library",name:"Library",component:ys,meta:{requiresAuth:!0}},{path:"/playlist/:name",name:"userPlaylist",component:Xs,meta:{requiresAuth:!0}},{path:"/:type/:value",name:"playlist",component:Ts},{path:"/login",name:"login",component:qs},{path:"/register",name:"register",component:nl}],cl=(0,C.p7)({history:(0,C.PO)("/"),routes:ol});cl.beforeEach((async(e,t,s)=>{e.matched.some((e=>e.meta.requiresAuth))?await(0,Is.v0)().currentUser?s():(alert("Login to get access!"),s("/")):s()}));var ul=cl;const gl={class:"fixed lg:z-0 z-10 h-full top-0 lg:w-60 w-full pt-10 lg:flex flex-col text-gray-300 bg-black"},dl=(0,a._)("p",null,(0,r.zw)("<-"),-1),ml=(0,a._)("h2",{class:"h-5 ml-4"},"Login",-1),hl=[dl,ml],pl=(0,a._)("span",{class:"mr-4"},(0,r.zw)("->"),-1),fl=["onClick"],yl={class:"h-5 ml-4"},xl=(0,a._)("div",{class:"h-x mt-6 mx-6 bg-white"},null,-1),bl={params:["isLoggedIn"],data(){return{navLinks:[{link:"/",name:"Home",icon:"home"},{link:"/search",name:"Search",icon:"search"},{link:"/scan",name:"Scan",icon:"portrait"},{link:"/library",name:"Library",icon:"book"},{link:"/createplaylist",name:"Create PlayList",icon:"add"},{link:"/likes",name:"Liked Songs",icon:"heart"}]}},methods:{navTo(e){ul.push(e),this.$emit("toggle")}}};var wl=Object.assign(bl,{__name:"NavBar",setup(e){const t=g();return(e,s)=>{const l=(0,a.up)("fa");return(0,a.wg)(),(0,a.iD)("div",gl,[(0,a._)("div",{onClick:s[0]||(s[0]=t=>e.$emit("toggle")),class:"absolute lg:hidden right-5"},[(0,a.Wm)(l,{class:"h-6 w-6 text-aliceblue",icon:"remove"})]),0==(0,i.SU)(t).isLoggedIn?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"text-white pl-8 mb-2 flex rounded-md",onClick:s[1]||(s[1]=t=>e.navTo("/login"))},hl)):((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:s[2]||(s[2]=t=>e.$emit("handler")),class:"pl-8 self-start"},[pl,(0,a.Uk)("SignOut")])),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.navLinks,(t=>((0,a.wg)(),(0,a.iD)("nav",{class:"flex flex-col my-2 pl-8 h-12 justify-around",key:t.link},[(0,a._)("div",{onClick:s=>e.navTo(t.link),class:"flex cursor-pointer hover:text-white"},[(0,a.Wm)(l,{class:"h-5 w-5",icon:t.icon},null,8,["icon"]),(0,a._)("h2",yl,(0,r.zw)(t.name),1)],8,fl)])))),128)),xl])}}});const vl=wl;var kl=vl;const Sl={class:"relative min-h-screen bg-home w-full overflow-hidden"},_l={class:"lg:hidden flex justify-between h-10 bg-gray-800 w-full"},Ll={key:0,class:"px-4 self-center text-lg"},Pl={key:1,class:"self-center"},Dl=(0,a._)("h2",{class:"px-4 text-lg"},"Login",-1),Ul={class:"relative flex"},Cl={class:"relative w-full lg:ml-60 mb-20"},Tl={class:"fixed bottom-0 w-full"},Il={data(){return{toggler:"hidden lg:block"}},methods:{toggle(){"hidden lg:block"==this.toggler?this.toggler="block absolute":this.toggler="hidden lg:block"}},name:"App",components:{NavBar:kl,MusicPlayer:D},setup(){const e=g(),{createUserPlayList:t,musics:s,showRecentlyPlayed:l,updateFav:a,getPlayList:i,dllist:r,createDll:n,recentlyPlayedList:c,recentlyPlayed:u,getRecentlyPlayed:d,musicTiming:m,songUrl:h,setTime:p,currentSongData:f,currentSong:y,saveUserPlayList:x,updateLikedList:b,setMusicTrack:w,newPlayListName:v,isLoggedIn:k,setDetails:S,pauseSong:_,userId:L,resumeSong:P,setFav:D,likedSongs:U,pasue:C,loading:T,getUserPlayList:I,getType:j,getArtist:R}=(0,o.Jk)(e);return{createUserPlayList:t,musics:s,showRecentlyPlayed:l,updateFav:a,getPlayList:i,dllist:r,createDll:n,recentlyPlayedList:c,recentlyPlayed:u,getRecentlyPlayed:d,musicTiming:m,songUrl:h,setTime:p,currentSongData:f,currentSong:y,saveUserPlayList:x,updateLikedList:b,setMusicTrack:w,newPlayListName:v,isLoggedIn:k,setDetails:S,pauseSong:_,userId:L,resumeSong:P,setFav:D,likedSongs:U,pasue:C,loading:T,getUserPlayList:I,getType:j,getArtist:R}}};var jl=Object.assign(Il,{setup(e){let t;const s=g();(0,a.bv)((()=>{t=(0,U.v0)(),(0,U.Aj)(t,(async e=>{if(e){s.isLoggedIn=!0,s.userId=e.uid;const t=await n.Z.get("https://musicappserver-1-x3219821.deta.app/users/:"+e.uid);s.userName=t.data.userName}else s.isLoggedIn=!1,s.userId=!1}))}));const l=()=>{(0,U.w7)(t).then((()=>{ul.push("/")}))};return(e,t)=>{const n=(0,a.up)("fa"),o=(0,a.up)("RouterLink"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",Sl,[(0,a._)("div",_l,[(0,a.Wm)(n,{onClick:e.toggle,class:"h-6 w-6 p-2 text-aliceblue",icon:"bars"},null,8,["onClick"]),(0,i.SU)(s).userName?((0,a.wg)(),(0,a.iD)("p",Ll,(0,r.zw)((0,i.SU)(s).userName),1)):(0,a.kq)("",!0),(0,i.SU)(s).userName?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("p",Pl,[0==(0,i.SU)(s).isLoggedIn?((0,a.wg)(),(0,a.j4)(o,{key:0,class:"text-white pl-8 mb-2 flex rounded-md",to:"/login"},{default:(0,a.w5)((()=>[Dl])),_:1})):(0,a.kq)("",!0)]))]),(0,a._)("div",Ul,[(0,a._)("div",{class:(0,r.C_)(e.toggler)},[(0,a.Wm)(kl,{isLoggedIn:(0,i.SU)(s).isLoggedIn,onToggle:e.toggle,onHandler:l},null,8,["isLoggedIn","onToggle"])],2),(0,a._)("div",Cl,[(0,a._)("div",null,[(0,a.Wm)(c)])]),(0,a._)("div",Tl,[(0,a.Wm)(D)])])])}}});const Rl=jl;var Nl=Rl,zl=s(3494),Ml=s(7749),Wl=s(8539),Fl=s(7795);const Al={apiKey:"AIzaSyCGADeMgG45EGddrwMHKkPjqns3Y6oob0s",authDomain:"music-application-20d5b.firebaseapp.com",projectId:"music-application-20d5b",storageBucket:"music-application-20d5b.appspot.com",messagingSenderId:"1080830921489",appId:"1:1080830921489:web:0daa39b279aad443219ab0",measurementId:"G-V7DXE5R6JB"};(0,Fl.ZF)(Al),zl.vI.add(Wl.mRB),(0,l.ri)(Nl).use((0,o.WB)()).use(ul).component("fa",Ml.GN).mount("#app")}},t={};function s(l){var a=t[l];if(void 0!==a)return a.exports;var i=t[l]={exports:{}};return e[l](i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,l,a,i){if(!l){var r=1/0;for(u=0;u<e.length;u++){l=e[u][0],a=e[u][1],i=e[u][2];for(var n=!0,o=0;o<l.length;o++)(!1&i||r>=i)&&Object.keys(s.O).every((function(e){return s.O[e](l[o])}))?l.splice(o--,1):(n=!1,i<r&&(r=i));if(n){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[l,a,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var l in t)s.o(t,l)&&!s.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,l){var a,i,r=l[0],n=l[1],o=l[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(o)var u=o(s)}for(t&&t(l);c<r.length;c++)i=r[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},l=self["webpackChunkmusic_app"]=self["webpackChunkmusic_app"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=s.O(void 0,[998],(function(){return s(7599)}));l=s.O(l)})();
//# sourceMappingURL=app.48031ce6.js.map